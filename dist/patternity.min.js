!function(){for(var a,b,c,d,e=document.getElementsByTagName("script"),f=e.length,g=this;f--;)if(a=e[f],a.src.indexOf(!0)){if(b=a.getAttribute("data-namespace")||"py",b&&"this"!==b)for(b=b.split(".");c=b.shift();)g[c]||(g[c]={}),g=g[c];break}d=g,this.pyGetRoot=function(){return d}(function(a,b){function c(a,b){var c=["[object ",a,"]"].join("");return b?function(b){return typeof b===a}:function(a){return e.call(a)===c}}for(var d,e=Object.prototype.toString,f=["function","undefined","string","boolean","number","Array","Object","Math","Date","RegExp","JSON","Arguments"],g=f.length,h={};g--;)d=f[g],h["is"+d.charAt(0).toUpperCase()+d.substr(1,d.length)]=c(d,d.charCodeAt(0)>90);h.isArray=Array.isArray||h.isArray,h.isNull=function(a){return null===a},h.isDefined=function(a){return!(h.isNull(a)||h.isUndefined(a))},function(){function c(a){var b=e.call(a);return b.substring(8,b.length-1)}function d(a,c){for(var d=a.split("."),e=d.shift(),f=b;e;)f[e]||(f[e]={}),0===d.length&&c&&(f[e]=c),f=f[e],e=d.shift();return f}function f(a,b){var c=function(){};return c.prototype=b.prototype,a.prototype=new c,a}function g(a){function b(){}return b.prototype=a,new b}function i(a,b){var c,d,e;if(a&&b){if(m(b))for(d=0,e=b.length;e>d;d++)i(a,b[d]);else for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}function j(a,b){var d,e,f,g;if(m(b)){for(f=0,g=b.length;g>f;f++)if(!j(a,b[f]))return!1;return!0}if(n(b)){for(e in b)if(b.hasOwnProperty(e)&&(d=a[e],o(d)||c(d)!==c(b[e])))return!1;return!0}}function k(a,b,c){var d;if(h.isFunction(a)&&h.isObject(b)){for(d in b)b.hasOwnProperty(d)&&a.call(c,d,b[d]);return!0}return!1}function l(a){var b,c,d=this;if(!h.isArray(this))throw new TypeError("Need an Array as scope");if(!h.isFunction(a))throw new TypeError("Need function");for(b=0,c=d.length;c>b;b++)a(d[b],b,d)}var m=h.isArray,n=h.isObject,o=h.isUndefined;a.utils=i(h,{createNS:d,extend:f,createObject:Object.create||g,forEach:Array.prototype.forEach||l,mixin:i,pairCall:k,isImplementing:j,getType:c}),a.NS=d}()}(d,this)),function(a,b){function c(a,b){var d,e;if(p(b))l.forEach.call(b,function(b){c(a,b)});else for(d in b)b.hasOwnProperty(d)&&(e=b[d],j[d]||(a[d]=e))}function d(a,c,d){d=d||c.className,o(a)?l.createNS([a,".",d].join(""),c):n(a)?a[d]=c:b[d]=c}function e(a,b,c){if(!o(a))throw new TypeError("a class name is required");if(!n(b))throw new TypeError(a+": class definition must be an object");if(c&&!o(c)&&typeof c!==k)throw new TypeError(a+": package must be an object or string")}function f(a,b,c){var d,e=q(b)?b.prototype:b;if(!l.isImplementing(a.prototype,e))throw d=c+" implementation for interface is missing",new Error(d)}function g(a,b){var c;for(c in a)a.hasOwnProperty(c)&&a[c]&&"object"==typeof a[c]&&b.push({key:c,value:a[c]})}function h(a){for(var b,c=a.length,d=this;c--;)b=a[c],d[b.key]=m(b.value)}function i(a,b,i){var j,k,p,r,s,t=[];return e(a,b,i),k=b.Extends,p=b.Mixin,r=b.Static,s=b.Implements,q(k)&&g(k.prototype,t),g(b,t),q(p)?g(p.prototype,t):n(p)&&g(p.prototype,t),j=t.length?q(b.initialize)?function(){t.length&&h.call(this,t),b.initialize.apply(this,arguments)}:function(){t.length&&h.call(this,t)}:b.initialize||function(){},j.nsName=o(i)?i+"."+a:a,q(k)&&(j.prototype=m(k.prototype)),c(j.prototype,b),p&&(q(p)?c(j.prototype,p.prototype):c(j.prototype,p)),s&&f(j,s),r&&l.mixin(j,r),d(i,j,a),j}var j={Extends:1,Implements:1,Mixin:1,Static:1,initialize:1,className:1},k="object",l=a.utils,m=l.createObject,n=l.isObject,o=l.isString,p=l.isArray,q=l.isFunction;i.prototype={isImplementing:f,validateInput:e,mixinProto:c,applyToPackage:d},a.Class=i}(d,this),function(a){function b(a){var b=new a;this.getInstance=function(){return b}}function c(c,e,f){var g;return d.prototype.validateInput(c,e,f),g=new b(a.Class(c,e,{})),d.prototype.applyToPackage(f,g,c),g}var d=(a.utils,a.Class);c.prototype={Singleton:b},a.Singleton=c}(d),function(a){function b(a,b){return function(){return a[b].apply(a,arguments)}}function c(a,c){var d=this;Object.keys(c).forEach(function(c){if(k(a[c]))d[c]=b(a,c);else{if("undefined"==typeof a[c])throw e="cannot bind "+c+"() implementation is missing";g(d,c,{set:function(b){a[c]=b},get:function(){return a[c]},enumerable:!0,writeable:!0})}})}function d(a,b,d){function e(a){if(!a||!i(a))throw"an object for interface binding should be defined";c.call(this,a,b)}return e.nsName=j(d)?d+"."+a:a,f.prototype.validateInput(a,b,d),e.bind=function(a){return new e(a)},e.isImplementedBy=function(a){return h.isImplementing(a,e)},f.prototype.mixinProto(e.prototype,b),f.prototype.applyToPackage(d,e,a),e}var e,f=a.Class,g=Object.defineProperty||function(){},h=a.utils,i=h.isObject,j=h.isString,k=h.isFunction;d.prototype={bind:c},a.Interface=d}(d,this),function(a){var b=Array.prototype.slice,c=a.utils,d=c.isFunction;c.isObject,a.Class("Observable",{__observers:{},triggerObservers:function(a){var b,c=this,d=c.__observers[a],e=0;if(d)for(e=0,b=d.length;b>e;e++)d[e].apply(c,arguments)},get:function(a){return this[a]},set:function(a,b){var e,f=this;c.pairCall(f.set,arguments[0],f)||d(f[a])||(e=f[a],f[a]=b,f.triggerObservers(a,b,e))},callFunction:function(a){var c,e=this,f=b.call(arguments,1);return d(e[a])?(c=e[a].apply(e,f),e.triggerObservers(a,c,f),c):void 0},observe:function(a,b){var e=this,f=e.__observers;c.pairCall(e.observe,arguments[0],e)||(f[a]||(f[a]=[]),d(b)&&f[a].push(b))},removeObserver:function(a,b){var c,d=this.__observers[a]||[];for(c=d.length;c--;)if(d[c]===b)return d.splice(c,1),void 0},removeObservers:function(a){var b=this.__observers;b[a]&&delete b[a]}},a)}(d),function(a){a.Interface("IIterator",{first:function(){},next:function(){},currentItem:function(){},isDone:function(){},each:function(){}},a)}(d),function(a){function b(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c}var c=a.utils;a.Class("Iterator",{Implements:a.IIterator,initialize:function(a){if(a instanceof Array)this.__iterable=a;else if(a&&c.isObject(a))this.__iterable=b(a);else{if(!a||!c.isString(a))throw"non iterable";this.__iterable=a.split("")}this.__currentItem=null,this.__index=null,this.first()},first:function(){return this.__index=0,this.currentItem()},next:function(){var a=this;return a.isDone()?void 0:(a.__index++,a.currentItem())},currentItem:function(){return this.__iterable[this.__index]},isDone:function(){return this.__index===this.__iterable.length},each:function(a){var b,d=this,e=d.__iterable,f=[],g=e.length;if(c.isFunction(a))for(b=0;g>b;b++)d.__index=b,f.push(a(e[b],b,e));return f}},a)}(d),function(a){a.Class("List",{__elements:[],add:function(a){this.__elements.push(a)},getAt:function(a){return this.__elements[a]},indexOf:function(a){for(var b=this.__elements,c=b.length;c--;)if(b[c]===a)return c;return-1},getLength:function(){return this.__elements.length},hasElement:function(a){return-1!==this.indexOf(a)},removeAt:function(a){a>-1&&this.__elements.splice(a,1)},remove:function(a){for(var b=this.indexOf(a);-1!==b;)this.removeAt(b),b=this.indexOf(a)},getElements:function(){return this.__elements},iterator:function(){return a.IIterator.bind(new a.Iterator(this.__elements))},unique:function(){for(var a,b=this.__elements,c=b.length,d={},e=[];c--;)a=b[c],d[a]||(e.push(a),d[a]=1);this.__elements=e}},a)}(d),function(a){a.Class("ListOf",{Extends:a.List,initialize:function(a){if("function"!=typeof a)throw"argument should be a constructor";this.__of=a},add:function(b){var c=this;if(!(b instanceof c.__of||b.constructor&&b.constructor===c.__of))throw"not allowed type";a.List.prototype.add.call(c,b)},execute:function(a){var b=Array.prototype.slice.call(arguments,1),c=this.iterator(),d=[];return c.each(function(c){d.push(c[a].apply(c,b))}),d},setAll:function(a,b){var c=this.iterator();c.each(function(c){c[a]=b})}},a)}(d),function(a){var b=a.utils,c=b.isFunction,d=b.isObject;a.Class("Listenable",{__registry:{},addListener:function(a,e){var f=this,g=f.__registry;if(!b.pairCall(f.addListener,arguments[0],f)){if(!e||!c(e)&&!d(e))throw"listener has to be a function or an object";g[a]||(g[a]=[]),g[a].push(e)}},on:function(){this.addListener.apply(this,arguments)},once:function(a,b){function d(){c(b)?b.apply(e,arguments):c(b[a])&&b[a].apply(e,arguments),e.removeListener(a,d)}var e=this;return e.addListener(a,d),d},cancel:function(){this.removeListener.apply(this,arguments)},cancelAll:function(){this.removeListeners.apply(this,arguments)},removeListener:function(a,b){var c,d=this,e=d.__registry[a];if(e)for(c=e.length;c--;)if(e[c]===b)return e.splice(c,1),void 0},removeListeners:function(a){var b=this.__registry;b[a]&&delete b[a]},dispatchEvent:function(a){var b,d,e,f=this,g=Array.prototype.slice.call(arguments,1),h=f.__registry[a];if(h)for(d=0,e=h.length;e>d;d++)b=h[d],c(b)?b.apply(f,g):c(b[a])&&b[a].apply(b,g)}},a)}(d),function(a){function b(a){var b,c,d,e=(new Date).getTime();for(c=0,d=a.length;d>c;c++)b=a[c],b.action.call(b.ctx||this,e)}a.Class("Scheduler",{initialize:function(a){var b=this;if(!("number"==typeof a&&a>0))throw"interval required";b.__interval=a,b.__tasks=[],b.__isRunning=!1,b.__handle=null},addTask:function(a,b){if("function"!=typeof a)throw"taks must be a function";this.__tasks.push({action:a,ctx:b})},interval:function(a){this.__interval=a},removeTask:function(a){for(var b=this,c=b.__tasks,d=c.length;d--;)if(c[d].action===a)return c.splice(d,1),void 0},reset:function(){this.stop(),this.__tasks=[]},run:function(a){var c=this;a&&c.addTask(a),c.__isRunning=!0,c.__handle=setInterval(function(){c.__isRunning&&b(c.__tasks)},c.__interval)},stop:function(){this.__isRunning=!1,clearInterval(this.__handle)},isRunning:function(){return this.__isRunning}},a)}(d),function(a){function b(){return""+this.__length++}function c(a){a.handler.apply(a.ctx||this,a.args),a.clearAspect()}a.Class("Sync",{initialize:function(a){var b=this;a=a||{},b.__registry={},b.__length=0,b.__synchronize=a.synchronize||!1,"function"==typeof a.onAllReady&&(b.onAllReady=a.onAllReady)},isAllReady:function(){var a,b=this.__registry;for(a in b)if(b.hasOwnProperty(a)&&!b[a].isReady)return!1;return!0},clear:function(){this.__registry={},this.__length=0},addHandler:function(a,d,e){var f,g,h=this,i=a[d];e=e||a,"function"==typeof i&&(f=b.call(h),a[d]=function(){var b,j=h.__synchronize,k=h.__registry;if(g=k[f]){if(g.isReady=!0,g.args=arguments,j||(c(g),delete k[f]),h.isAllReady()){if(j)for(b in k)k.hasOwnProperty(b)&&(c(k[b]),delete k[b]);h.onAllReady&&h.onAllReady()}}else i.apply(e||this,arguments),a[d]=i},h.__registry[f]={handler:i,clearAspect:function(){a[d]=i},ctx:e||a,isReady:!1})},onAllReady:function(){}},a)}(d)}();